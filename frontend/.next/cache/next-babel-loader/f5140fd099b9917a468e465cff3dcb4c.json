{"ast":null,"code":"var _jsxFileName = \"/frontend/pages/article/[pid].tsx\";\nvar __jsx = React.createElement;\nimport styled from \"@emotion/styled\";\nimport marked from \"marked\";\nimport React from \"react\";\nimport ArticleMeta from \"components/article/ArticleMeta\";\nimport CommentList from \"components/comment/CommentList\";\nimport LoadingSpinner from \"components/common/LoadingSpinner\";\nimport ArticleAPI from \"lib/api/article\";\nconst ArticlePageContainer = styled(\"div\")``;\nconst ArticleInfoContainer = styled(\"div\")`\n  color: #fff;\n  background: #333;\n  margin-bottom: 2rem;\n  padding: 2rem 0;\n`;\nconst ArticleInfoPresenter = styled(\"div\")`\n  margin: 0 auto;\n  padding: 0 15px;\n\n  @media (min-width: 544px) {\n    max-width: 576px;\n  }\n\n  @media (min-width: 768px) {\n    max-width: 720px;\n  }\n\n  @media (min-width: 992px) {\n    max-width: 940px;\n  }\n\n  @media (min-width: 1200px) {\n    max-width: 1140px;\n  }\n`;\nconst ArticleTitle = styled(\"h1\")`\n  margin: 0;\n  font-size: 2.8rem;\n  font-weight: 600;\n  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);\n  line-height: 1.1;\n`;\nconst ArticleContentContainer = styled(\"div\")`\n  margin: 1.5rem auto 0;\n  padding: 0 15px;\n\n  @media (min-width: 544px) {\n    max-width: 576px;\n  }\n\n  @media (min-width: 768px) {\n    max-width: 720px;\n  }\n\n  @media (min-width: 992px) {\n    max-width: 940px;\n  }\n\n  @media (min-width: 1200px) {\n    max-width: 1140px;\n  }\n`;\nconst ArticleContentPresenter = styled(\"div\")`\n  position: relative;\n  display: flex;\n  flex-wrap: wrap;\n  flex: 0 0 100%;\n  max-width: 100%;\n  min-height: 1px;\n  margin: 0 -15px;\n  padding: 0 15px;\n`;\nconst ArticleContent = styled(\"div\")`\n  width: 100%;\n`;\nconst ArticleTagList = styled(\"ul\")`\n  display: inline-block;\n  list-style: none !important;\n  padding-left: 0 !important;\n  margin: 0 0 1rem;\n`;\nconst ArticleTagItem = styled(\"li\")`\n  display: inline-block !important;\n  border: 1px solid #ddd;\n  color: #aaa !important;\n  background: 0 0 !important;\n  font-size: 0.8rem;\n  padding-top: 0.1rem;\n  padding-bottom: 0.1rem;\n  white-space: nowrap;\n  margin-right: 3px;\n  margin-bottom: 0.2rem;\n  padding-right: 0.6em;\n  padding-left: 0.6em;\n  border-radius: 10rem;\n`;\nconst Divider = styled(\"hr\")`\n  box-sizing: content-box;\n  height: 0;\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n  border: 0;\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n`;\nconst ArticleActions = styled(\"div\")`\n  text-align: center;\n  margin: 1.5rem 0 3rem;\n`;\nconst CommentListContainer = styled(\"div\")`\n  display: flex;\n  flex-wrap: wrap;\n  margin: 0 -15px;\n`;\nconst CommentListPresenter = styled(\"div\")`\n  position: relative;\n  flex: 0 0 100%;\n  max-width: 100%;\n  min-height: 1px;\n  padding: 0 15px;\n\n  @media (min-width: 768px) {\n    position: relative;\n    flex: 0 0 66.66667%;\n    max-width: 66.66667%;\n    margin-left: 16.66667%;\n  }\n`;\n\nconst ArticlePage = ({\n  article,\n  pid\n}) => {\n  var _article$tagList;\n\n  if (!article) return __jsx(LoadingSpinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 24\n    }\n  });\n  const markup = {\n    __html: marked(article.body, {\n      sanitize: true\n    })\n  };\n  return __jsx(ArticlePageContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 5\n    }\n  }, __jsx(ArticleInfoContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }\n  }, __jsx(ArticleInfoPresenter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }\n  }, __jsx(ArticleTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }, article.title), __jsx(ArticleMeta, {\n    article: article,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 11\n    }\n  }))), __jsx(ArticleContentContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }\n  }, __jsx(ArticleContentPresenter, {\n    className: \"article-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }\n  }, __jsx(ArticleContent, {\n    dangerouslySetInnerHTML: markup,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 11\n    }\n  }), __jsx(ArticleTagList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 11\n    }\n  }, (_article$tagList = article.tagList) === null || _article$tagList === void 0 ? void 0 : _article$tagList.map(tag => __jsx(ArticleTagItem, {\n    key: tag,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 15\n    }\n  }, tag)))), __jsx(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }\n  }), __jsx(ArticleActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }\n  }), __jsx(CommentListContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }\n  }, __jsx(CommentListPresenter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 11\n    }\n  }, __jsx(CommentList, {\n    pid: pid,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 13\n    }\n  })))));\n};\n\nexport async function getStaticPaths() {\n  return {\n    paths: [],\n    fallback: true\n  };\n}\nexport async function getStaticProps({\n  params\n}) {\n  const {\n    pid\n  } = params;\n\n  try {\n    const {\n      data\n    } = await ArticleAPI.get(pid);\n    return {\n      props: {\n        article: data === null || data === void 0 ? void 0 : data.article,\n        pid\n      },\n      revalidate: 1\n    };\n  } catch (error) {\n    console.error(`Get Article id ${pid} error: `, error);\n    return {\n      props: {\n        article: {},\n        pid\n      },\n      revalidate: 1\n    };\n  }\n}\nexport default ArticlePage;","map":{"version":3,"sources":["/frontend/pages/article/[pid].tsx"],"names":["styled","marked","React","ArticleMeta","CommentList","LoadingSpinner","ArticleAPI","ArticlePageContainer","ArticleInfoContainer","ArticleInfoPresenter","ArticleTitle","ArticleContentContainer","ArticleContentPresenter","ArticleContent","ArticleTagList","ArticleTagItem","Divider","ArticleActions","CommentListContainer","CommentListPresenter","ArticlePage","article","pid","markup","__html","body","sanitize","title","tagList","map","tag","getStaticPaths","paths","fallback","getStaticProps","params","data","get","props","revalidate","error","console"],"mappings":"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","sourcesContent":["import styled from \"@emotion/styled\";\nimport marked from \"marked\";\nimport React from \"react\";\n\nimport ArticleMeta from \"components/article/ArticleMeta\";\nimport CommentList from \"components/comment/CommentList\";\nimport LoadingSpinner from \"components/common/LoadingSpinner\";\nimport ArticleAPI from \"lib/api/article\";\nimport { ArticleType } from \"lib/types/articleType\";\n\ninterface ArticlePageProps {\n  article: ArticleType;\n  pid: string;\n}\n\nconst ArticlePageContainer = styled(\"div\")``;\n\nconst ArticleInfoContainer = styled(\"div\")`\n  color: #fff;\n  background: #333;\n  margin-bottom: 2rem;\n  padding: 2rem 0;\n`;\n\nconst ArticleInfoPresenter = styled(\"div\")`\n  margin: 0 auto;\n  padding: 0 15px;\n\n  @media (min-width: 544px) {\n    max-width: 576px;\n  }\n\n  @media (min-width: 768px) {\n    max-width: 720px;\n  }\n\n  @media (min-width: 992px) {\n    max-width: 940px;\n  }\n\n  @media (min-width: 1200px) {\n    max-width: 1140px;\n  }\n`;\n\nconst ArticleTitle = styled(\"h1\")`\n  margin: 0;\n  font-size: 2.8rem;\n  font-weight: 600;\n  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);\n  line-height: 1.1;\n`;\n\nconst ArticleContentContainer = styled(\"div\")`\n  margin: 1.5rem auto 0;\n  padding: 0 15px;\n\n  @media (min-width: 544px) {\n    max-width: 576px;\n  }\n\n  @media (min-width: 768px) {\n    max-width: 720px;\n  }\n\n  @media (min-width: 992px) {\n    max-width: 940px;\n  }\n\n  @media (min-width: 1200px) {\n    max-width: 1140px;\n  }\n`;\n\nconst ArticleContentPresenter = styled(\"div\")`\n  position: relative;\n  display: flex;\n  flex-wrap: wrap;\n  flex: 0 0 100%;\n  max-width: 100%;\n  min-height: 1px;\n  margin: 0 -15px;\n  padding: 0 15px;\n`;\n\nconst ArticleContent = styled(\"div\")`\n  width: 100%;\n`;\n\nconst ArticleTagList = styled(\"ul\")`\n  display: inline-block;\n  list-style: none !important;\n  padding-left: 0 !important;\n  margin: 0 0 1rem;\n`;\n\nconst ArticleTagItem = styled(\"li\")`\n  display: inline-block !important;\n  border: 1px solid #ddd;\n  color: #aaa !important;\n  background: 0 0 !important;\n  font-size: 0.8rem;\n  padding-top: 0.1rem;\n  padding-bottom: 0.1rem;\n  white-space: nowrap;\n  margin-right: 3px;\n  margin-bottom: 0.2rem;\n  padding-right: 0.6em;\n  padding-left: 0.6em;\n  border-radius: 10rem;\n`;\n\nconst Divider = styled(\"hr\")`\n  box-sizing: content-box;\n  height: 0;\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n  border: 0;\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n`;\n\nconst ArticleActions = styled(\"div\")`\n  text-align: center;\n  margin: 1.5rem 0 3rem;\n`;\n\nconst CommentListContainer = styled(\"div\")`\n  display: flex;\n  flex-wrap: wrap;\n  margin: 0 -15px;\n`;\n\nconst CommentListPresenter = styled(\"div\")`\n  position: relative;\n  flex: 0 0 100%;\n  max-width: 100%;\n  min-height: 1px;\n  padding: 0 15px;\n\n  @media (min-width: 768px) {\n    position: relative;\n    flex: 0 0 66.66667%;\n    max-width: 66.66667%;\n    margin-left: 16.66667%;\n  }\n`;\n\nconst ArticlePage = ({ article, pid }: ArticlePageProps) => {\n  if (!article) return <LoadingSpinner />;\n\n  const markup = {\n    __html: marked(article.body, { sanitize: true }),\n  };\n\n  return (\n    <ArticlePageContainer>\n      <ArticleInfoContainer>\n        <ArticleInfoPresenter>\n          <ArticleTitle>{article.title}</ArticleTitle>\n          <ArticleMeta article={article} />\n        </ArticleInfoPresenter>\n      </ArticleInfoContainer>\n      <ArticleContentContainer>\n        <ArticleContentPresenter className=\"article-content\">\n          <ArticleContent dangerouslySetInnerHTML={markup} />\n          <ArticleTagList>\n            {article.tagList?.map((tag) => (\n              <ArticleTagItem key={tag}>{tag}</ArticleTagItem>\n            ))}\n          </ArticleTagList>\n        </ArticleContentPresenter>\n        <Divider />\n        <ArticleActions />\n        <CommentListContainer>\n          <CommentListPresenter>\n            <CommentList pid={pid} />\n          </CommentListPresenter>\n        </CommentListContainer>\n      </ArticleContentContainer>\n    </ArticlePageContainer>\n  );\n};\n\nexport async function getStaticPaths() {\n  return { paths: [], fallback: true };\n}\n\nexport async function getStaticProps({ params }) {\n  const { pid } = params;\n\n  try {\n    const { data } = await ArticleAPI.get(pid);\n    return {\n      props: {\n        article: data?.article,\n        pid,\n      },\n      revalidate: 1,\n    };\n  } catch (error) {\n    console.error(`Get Article id ${pid} error: `, error);\n    return {\n      props: {\n        article: {},\n        pid,\n      },\n      revalidate: 1,\n    };\n  }\n}\n\nexport default ArticlePage;\n"]},"metadata":{},"sourceType":"module"}