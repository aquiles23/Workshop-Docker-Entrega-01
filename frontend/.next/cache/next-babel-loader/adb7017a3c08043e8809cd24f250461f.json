{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from \"axios\";\nimport { SERVER_BASE_URL } from \"../utils/constant\";\nimport { getQuery } from \"../utils/getQuery\";\nvar ArticleAPI = {\n  all: function all(page) {\n    var limit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n    return axios.get(\"\".concat(SERVER_BASE_URL, \"/articles?\").concat(getQuery(limit, page)));\n  },\n  byAuthor: function byAuthor(author) {\n    var page = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var limit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 5;\n    return axios.get(\"\".concat(SERVER_BASE_URL, \"/articles?author=\").concat(encodeURIComponent(author), \"&\").concat(getQuery(limit, page)));\n  },\n  byTag: function byTag(tag) {\n    var page = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var limit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;\n    return axios.get(\"\".concat(SERVER_BASE_URL, \"/articles?tag=\").concat(encodeURIComponent(tag), \"&\").concat(getQuery(limit, page)));\n  },\n  \"delete\": function _delete(id, token) {\n    return axios[\"delete\"](\"\".concat(SERVER_BASE_URL, \"/articles/\").concat(id), {\n      headers: {\n        Authorization: \"Token \".concat(token)\n      }\n    });\n  },\n  favorite: function favorite(slug) {\n    return axios.post(\"\".concat(SERVER_BASE_URL, \"/articles/\").concat(slug, \"/favorite\"));\n  },\n  favoritedBy: function favoritedBy(author, page) {\n    return axios.get(\"\".concat(SERVER_BASE_URL, \"/articles?favorited=\").concat(encodeURIComponent(author), \"&\").concat(getQuery(10, page)));\n  },\n  feed: function feed(page) {\n    var limit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n    return axios.get(\"\".concat(SERVER_BASE_URL, \"/articles/feed?\").concat(getQuery(limit, page)));\n  },\n  get: function get(slug) {\n    return axios.get(\"\".concat(SERVER_BASE_URL, \"/articles/\").concat(encodeURIComponent(slug)));\n  },\n  unfavorite: function unfavorite(slug) {\n    return axios[\"delete\"](\"\".concat(SERVER_BASE_URL, \"/articles/\").concat(slug, \"/favorite\"));\n  },\n  update: function () {\n    var _update = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(article, token) {\n      var _yield$axios$put, data, status;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios.put(\"\".concat(SERVER_BASE_URL, \"/articles/\").concat(article.slug), JSON.stringify({\n                article: article\n              }), {\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  Authorization: \"Token \".concat(encodeURIComponent(token))\n                }\n              });\n\n            case 2:\n              _yield$axios$put = _context.sent;\n              data = _yield$axios$put.data;\n              status = _yield$axios$put.status;\n              return _context.abrupt(\"return\", {\n                data: data,\n                status: status\n              });\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    function update(_x, _x2) {\n      return _update.apply(this, arguments);\n    }\n\n    return update;\n  }(),\n  create: function () {\n    var _create = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(article, token) {\n      var _yield$axios$post, data, status;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return axios.post(\"\".concat(SERVER_BASE_URL, \"/articles\"), JSON.stringify({\n                article: article\n              }), {\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  Authorization: \"Token \".concat(encodeURIComponent(token))\n                }\n              });\n\n            case 2:\n              _yield$axios$post = _context2.sent;\n              data = _yield$axios$post.data;\n              status = _yield$axios$post.status;\n              return _context2.abrupt(\"return\", {\n                data: data,\n                status: status\n              });\n\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    function create(_x3, _x4) {\n      return _create.apply(this, arguments);\n    }\n\n    return create;\n  }()\n};\nexport default ArticleAPI;","map":{"version":3,"sources":["/frontend/lib/api/article.ts"],"names":["axios","SERVER_BASE_URL","getQuery","ArticleAPI","all","page","limit","get","byAuthor","author","encodeURIComponent","byTag","tag","id","token","headers","Authorization","favorite","slug","post","favoritedBy","feed","unfavorite","update","article","put","JSON","stringify","data","status","create"],"mappings":"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","sourcesContent":["import axios from \"axios\";\n\nimport { SERVER_BASE_URL } from \"../utils/constant\";\nimport { getQuery } from \"../utils/getQuery\";\n\nconst ArticleAPI = {\n  all: (page, limit = 10) =>\n    axios.get(`${SERVER_BASE_URL}/articles?${getQuery(limit, page)}`),\n\n  byAuthor: (author, page = 0, limit = 5) =>\n    axios.get(\n      `${SERVER_BASE_URL}/articles?author=${encodeURIComponent(\n        author\n      )}&${getQuery(limit, page)}`\n    ),\n\n  byTag: (tag, page = 0, limit = 10) =>\n    axios.get(\n      `${SERVER_BASE_URL}/articles?tag=${encodeURIComponent(tag)}&${getQuery(\n        limit,\n        page\n      )}`\n    ),\n\n  delete: (id, token) =>\n    axios.delete(`${SERVER_BASE_URL}/articles/${id}`, {\n      headers: {\n        Authorization: `Token ${token}`,\n      },\n    }),\n\n  favorite: (slug) =>\n    axios.post(`${SERVER_BASE_URL}/articles/${slug}/favorite`),\n\n  favoritedBy: (author, page) =>\n    axios.get(\n      `${SERVER_BASE_URL}/articles?favorited=${encodeURIComponent(\n        author\n      )}&${getQuery(10, page)}`\n    ),\n\n  feed: (page, limit = 10) =>\n    axios.get(`${SERVER_BASE_URL}/articles/feed?${getQuery(limit, page)}`),\n\n  get: (slug) =>\n    axios.get(`${SERVER_BASE_URL}/articles/${encodeURIComponent(slug)}`),\n\n  unfavorite: (slug) =>\n    axios.delete(`${SERVER_BASE_URL}/articles/${slug}/favorite`),\n\n  update: async (article, token) => {\n    const { data, status } = await axios.put(\n      `${SERVER_BASE_URL}/articles/${article.slug}`,\n      JSON.stringify({ article }),\n      {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Token ${encodeURIComponent(token)}`,\n        },\n      }\n    );\n    return {\n      data,\n      status,\n    };\n  },\n\n  create: async (article, token) => {\n    const { data, status } = await axios.post(\n      `${SERVER_BASE_URL}/articles`,\n      JSON.stringify({ article }),\n      {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Token ${encodeURIComponent(token)}`,\n        },\n      }\n    );\n    return {\n      data,\n      status,\n    };\n  },\n};\n\nexport default ArticleAPI;\n"]},"metadata":{},"sourceType":"module"}