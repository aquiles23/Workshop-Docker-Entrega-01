{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _templateObject,\n    _templateObject2,\n    _templateObject3,\n    _this = this,\n    _jsxFileName = \"/frontend/components/common/Pagination.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport styled from \"@emotion/styled\";\nimport React from \"react\";\nimport { trigger } from \"swr\";\nimport Maybe from \"./Maybe\";\nimport { getRange, getPageInfo } from \"lib/utils/calculatePagination\";\nimport { usePageDispatch, usePageState } from \"lib/context/PageContext\";\nvar PaginationContainer = styled(\"nav\")(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\"])));\n_c = PaginationContainer;\nvar PaginationPresenter = styled(\"ul\")(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  display: inline-block;\\n  padding-left: 0;\\n  margin-top: 1rem;\\n  margin-bottom: 1rem;\\n  border-radius: 0.25rem;\\n\"])));\n_c2 = PaginationPresenter;\nvar PaginationItem = styled(\"li\")(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n  position: relative;\\n  display: inline;\\n  padding: 0.5rem 0.75rem;\\n  margin-left: 0;\\n\\n  background-color: #fff;\\n  border: 1px solid #ddd;\\n  cursor: pointer;\\n\\n  &:first-child {\\n    border-bottom-left-radius: 0.25rem;\\n    border-top-left-radius: 0.25rem;\\n  }\\n\\n  &:last-child {\\n    border-bottom-right-radius: 0.25rem;\\n    border-top-right-radius: 0.25rem;\\n  }\\n\\n  &:hover {\\n    color: #3d8b3d;\\n    background-color: #eceeef;\\n    border-color: #ddd;\\n  }\\n\\n  &.is-active {\\n    z-index: 2;\\n    color: #fff;\\n    cursor: default;\\n    background-color: #5cb85c;\\n    border-color: #5cb85c;\\n  }\\n\"])));\n_c3 = PaginationItem;\n\nvar Pagination = function Pagination(_ref) {\n  _s();\n\n  var total = _ref.total,\n      limit = _ref.limit,\n      pageCount = _ref.pageCount,\n      currentPage = _ref.currentPage,\n      lastIndex = _ref.lastIndex,\n      fetchURL = _ref.fetchURL;\n  var page = usePageState();\n  var setPage = usePageDispatch();\n\n  var _getPageInfo = getPageInfo({\n    limit: limit,\n    pageCount: pageCount,\n    total: total,\n    page: currentPage\n  }),\n      firstPage = _getPageInfo.firstPage,\n      lastPage = _getPageInfo.lastPage,\n      hasPreviousPage = _getPageInfo.hasPreviousPage,\n      hasNextPage = _getPageInfo.hasNextPage;\n\n  var pages = total > 0 ? getRange(firstPage, lastPage) : [];\n  var handleClick = React.useCallback(function (e, index) {\n    e.preventDefault();\n    setPage(index);\n    trigger(fetchURL);\n  }, []);\n  var handleFirstClick = React.useCallback(function (e) {\n    e.preventDefault();\n    setPage(0);\n    trigger(fetchURL);\n  }, []);\n  var handlePrevClick = React.useCallback(function (e) {\n    e.preventDefault();\n    setPage(page - 1);\n    trigger(fetchURL);\n  }, []);\n  var handleNextClick = React.useCallback(function (e) {\n    e.preventDefault();\n    setPage(page + 1);\n    trigger(fetchURL);\n  }, []);\n  var handleLastClick = React.useCallback(function (e) {\n    e.preventDefault();\n    setPage(lastIndex);\n    trigger(fetchURL);\n  }, []);\n  return __jsx(PaginationContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 5\n    }\n  }, __jsx(PaginationPresenter, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }\n  }, __jsx(PaginationItem, {\n    onClick: handleFirstClick,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  }, \"<<\"), __jsx(Maybe, {\n    test: hasPreviousPage,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }\n  }, __jsx(PaginationItem, {\n    onClick: handlePrevClick,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }\n  }, \"<\")), pages.map(function (page) {\n    var isCurrent = !currentPage ? page === 0 : page === currentPage;\n    return __jsx(PaginationItem, {\n      key: page.toString(),\n      className: isCurrent && \"is-active\",\n      onClick: function onClick(e) {\n        return handleClick(e, page);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }\n    }, page + 1);\n  }), __jsx(Maybe, {\n    test: hasNextPage,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 9\n    }\n  }, __jsx(PaginationItem, {\n    onClick: handleNextClick,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 11\n    }\n  }, \">\")), __jsx(PaginationItem, {\n    onClick: handleLastClick,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }\n  }, \">>\")));\n};\n\n_s(Pagination, \"u/55yirhbcwU3Z+JTK00QQa9SgU=\", false, function () {\n  return [usePageState, usePageDispatch];\n});\n\n_c4 = Pagination;\nexport default Pagination;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"PaginationContainer\");\n$RefreshReg$(_c2, \"PaginationPresenter\");\n$RefreshReg$(_c3, \"PaginationItem\");\n$RefreshReg$(_c4, \"Pagination\");","map":{"version":3,"sources":["/frontend/components/common/Pagination.tsx"],"names":["styled","React","trigger","Maybe","getRange","getPageInfo","usePageDispatch","usePageState","PaginationContainer","PaginationPresenter","PaginationItem","Pagination","total","limit","pageCount","currentPage","lastIndex","fetchURL","page","setPage","firstPage","lastPage","hasPreviousPage","hasNextPage","pages","handleClick","useCallback","e","index","preventDefault","handleFirstClick","handlePrevClick","handleNextClick","handleLastClick","map","isCurrent","toString"],"mappings":";;;;;;;;;;AAAA,OAAOA,MAAP,MAAmB,iBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,KAAxB;AAEA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,+BAAtC;AACA,SAASC,eAAT,EAA0BC,YAA1B,QAA8C,yBAA9C;AAWA,IAAMC,mBAAmB,GAAGR,MAAM,CAAC,KAAD,CAAT,qEAAzB;KAAMQ,mB;AAEN,IAAMC,mBAAmB,GAAGT,MAAM,CAAC,IAAD,CAAT,+LAAzB;MAAMS,mB;AAQN,IAAMC,cAAc,GAAGV,MAAM,CAAC,IAAD,CAAT,irBAApB;MAAMU,c;;AAmCN,IAAMC,UAAU,GAAG,SAAbA,UAAa,OAOI;AAAA;;AAAA,MANrBC,KAMqB,QANrBA,KAMqB;AAAA,MALrBC,KAKqB,QALrBA,KAKqB;AAAA,MAJrBC,SAIqB,QAJrBA,SAIqB;AAAA,MAHrBC,WAGqB,QAHrBA,WAGqB;AAAA,MAFrBC,SAEqB,QAFrBA,SAEqB;AAAA,MADrBC,QACqB,QADrBA,QACqB;AACrB,MAAMC,IAAI,GAAGX,YAAY,EAAzB;AACA,MAAMY,OAAO,GAAGb,eAAe,EAA/B;;AAEA,qBAA8DD,WAAW,CAAC;AACxEQ,IAAAA,KAAK,EAALA,KADwE;AAExEC,IAAAA,SAAS,EAATA,SAFwE;AAGxEF,IAAAA,KAAK,EAALA,KAHwE;AAIxEM,IAAAA,IAAI,EAAEH;AAJkE,GAAD,CAAzE;AAAA,MAAQK,SAAR,gBAAQA,SAAR;AAAA,MAAmBC,QAAnB,gBAAmBA,QAAnB;AAAA,MAA6BC,eAA7B,gBAA6BA,eAA7B;AAAA,MAA8CC,WAA9C,gBAA8CA,WAA9C;;AAMA,MAAMC,KAAK,GAAGZ,KAAK,GAAG,CAAR,GAAYR,QAAQ,CAACgB,SAAD,EAAYC,QAAZ,CAApB,GAA4C,EAA1D;AAEA,MAAMI,WAAW,GAAGxB,KAAK,CAACyB,WAAN,CAClB,UAACC,CAAD,EAAiDC,KAAjD,EAAmE;AACjED,IAAAA,CAAC,CAACE,cAAF;AACAV,IAAAA,OAAO,CAACS,KAAD,CAAP;AACA1B,IAAAA,OAAO,CAACe,QAAD,CAAP;AACD,GALiB,EAMlB,EANkB,CAApB;AASA,MAAMa,gBAAgB,GAAG7B,KAAK,CAACyB,WAAN,CACvB,UAACC,CAAD,EAAoD;AAClDA,IAAAA,CAAC,CAACE,cAAF;AACAV,IAAAA,OAAO,CAAC,CAAD,CAAP;AACAjB,IAAAA,OAAO,CAACe,QAAD,CAAP;AACD,GALsB,EAMvB,EANuB,CAAzB;AASA,MAAMc,eAAe,GAAG9B,KAAK,CAACyB,WAAN,CACtB,UAACC,CAAD,EAAoD;AAClDA,IAAAA,CAAC,CAACE,cAAF;AACAV,IAAAA,OAAO,CAACD,IAAI,GAAG,CAAR,CAAP;AACAhB,IAAAA,OAAO,CAACe,QAAD,CAAP;AACD,GALqB,EAMtB,EANsB,CAAxB;AASA,MAAMe,eAAe,GAAG/B,KAAK,CAACyB,WAAN,CACtB,UAACC,CAAD,EAAoD;AAClDA,IAAAA,CAAC,CAACE,cAAF;AACAV,IAAAA,OAAO,CAACD,IAAI,GAAG,CAAR,CAAP;AACAhB,IAAAA,OAAO,CAACe,QAAD,CAAP;AACD,GALqB,EAMtB,EANsB,CAAxB;AASA,MAAMgB,eAAe,GAAGhC,KAAK,CAACyB,WAAN,CACtB,UAACC,CAAD,EAAoD;AAClDA,IAAAA,CAAC,CAACE,cAAF;AACAV,IAAAA,OAAO,CAACH,SAAD,CAAP;AACAd,IAAAA,OAAO,CAACe,QAAD,CAAP;AACD,GALqB,EAMtB,EANsB,CAAxB;AASA,SACE,MAAC,mBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,mBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,cAAD;AAAgB,IAAA,OAAO,EAAEa,gBAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,EAEE,MAAC,KAAD;AAAO,IAAA,IAAI,EAAER,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,cAAD;AAAgB,IAAA,OAAO,EAAES,eAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF,CAFF,EAKGP,KAAK,CAACU,GAAN,CAAU,UAAChB,IAAD,EAAU;AACnB,QAAMiB,SAAS,GAAG,CAACpB,WAAD,GAAeG,IAAI,KAAK,CAAxB,GAA4BA,IAAI,KAAKH,WAAvD;AACA,WACE,MAAC,cAAD;AACE,MAAA,GAAG,EAAEG,IAAI,CAACkB,QAAL,EADP;AAEE,MAAA,SAAS,EAAED,SAAS,IAAI,WAF1B;AAGE,MAAA,OAAO,EAAE,iBAACR,CAAD;AAAA,eAAOF,WAAW,CAACE,CAAD,EAAIT,IAAJ,CAAlB;AAAA,OAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKGA,IAAI,GAAG,CALV,CADF;AASD,GAXA,CALH,EAiBE,MAAC,KAAD;AAAO,IAAA,IAAI,EAAEK,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,cAAD;AAAgB,IAAA,OAAO,EAAES,eAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF,CAjBF,EAoBE,MAAC,cAAD;AAAgB,IAAA,OAAO,EAAEC,eAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UApBF,CADF,CADF;AA0BD,CA1FD;;GAAMtB,U;UAQSJ,Y,EACGD,e;;;MATZK,U;AA4FN,eAAeA,UAAf","sourcesContent":["import styled from \"@emotion/styled\";\nimport React from \"react\";\nimport { trigger } from \"swr\";\n\nimport Maybe from \"./Maybe\";\nimport { getRange, getPageInfo } from \"lib/utils/calculatePagination\";\nimport { usePageDispatch, usePageState } from \"lib/context/PageContext\";\n\ninterface PaginationProps {\n  total: number;\n  limit: number;\n  pageCount: number;\n  currentPage: number;\n  lastIndex: number;\n  fetchURL: string;\n}\n\nconst PaginationContainer = styled(\"nav\")``;\n\nconst PaginationPresenter = styled(\"ul\")`\n  display: inline-block;\n  padding-left: 0;\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n  border-radius: 0.25rem;\n`;\n\nconst PaginationItem = styled(\"li\")`\n  position: relative;\n  display: inline;\n  padding: 0.5rem 0.75rem;\n  margin-left: 0;\n\n  background-color: #fff;\n  border: 1px solid #ddd;\n  cursor: pointer;\n\n  &:first-child {\n    border-bottom-left-radius: 0.25rem;\n    border-top-left-radius: 0.25rem;\n  }\n\n  &:last-child {\n    border-bottom-right-radius: 0.25rem;\n    border-top-right-radius: 0.25rem;\n  }\n\n  &:hover {\n    color: #3d8b3d;\n    background-color: #eceeef;\n    border-color: #ddd;\n  }\n\n  &.is-active {\n    z-index: 2;\n    color: #fff;\n    cursor: default;\n    background-color: #5cb85c;\n    border-color: #5cb85c;\n  }\n`;\n\nconst Pagination = ({\n  total,\n  limit,\n  pageCount,\n  currentPage,\n  lastIndex,\n  fetchURL,\n}: PaginationProps) => {\n  const page = usePageState();\n  const setPage = usePageDispatch();\n\n  const { firstPage, lastPage, hasPreviousPage, hasNextPage } = getPageInfo({\n    limit,\n    pageCount,\n    total,\n    page: currentPage,\n  });\n  const pages = total > 0 ? getRange(firstPage, lastPage) : [];\n\n  const handleClick = React.useCallback(\n    (e: React.MouseEvent<HTMLLIElement, MouseEvent>, index: number) => {\n      e.preventDefault();\n      setPage(index);\n      trigger(fetchURL);\n    },\n    []\n  );\n\n  const handleFirstClick = React.useCallback(\n    (e: React.MouseEvent<HTMLLIElement, MouseEvent>) => {\n      e.preventDefault();\n      setPage(0);\n      trigger(fetchURL);\n    },\n    []\n  );\n\n  const handlePrevClick = React.useCallback(\n    (e: React.MouseEvent<HTMLLIElement, MouseEvent>) => {\n      e.preventDefault();\n      setPage(page - 1);\n      trigger(fetchURL);\n    },\n    []\n  );\n\n  const handleNextClick = React.useCallback(\n    (e: React.MouseEvent<HTMLLIElement, MouseEvent>) => {\n      e.preventDefault();\n      setPage(page + 1);\n      trigger(fetchURL);\n    },\n    []\n  );\n\n  const handleLastClick = React.useCallback(\n    (e: React.MouseEvent<HTMLLIElement, MouseEvent>) => {\n      e.preventDefault();\n      setPage(lastIndex);\n      trigger(fetchURL);\n    },\n    []\n  );\n\n  return (\n    <PaginationContainer>\n      <PaginationPresenter>\n        <PaginationItem onClick={handleFirstClick}>{`<<`}</PaginationItem>\n        <Maybe test={hasPreviousPage}>\n          <PaginationItem onClick={handlePrevClick}>{`<`}</PaginationItem>\n        </Maybe>\n        {pages.map((page) => {\n          const isCurrent = !currentPage ? page === 0 : page === currentPage;\n          return (\n            <PaginationItem\n              key={page.toString()}\n              className={isCurrent && \"is-active\"}\n              onClick={(e) => handleClick(e, page)}\n            >\n              {page + 1}\n            </PaginationItem>\n          );\n        })}\n        <Maybe test={hasNextPage}>\n          <PaginationItem onClick={handleNextClick}>{`>`}</PaginationItem>\n        </Maybe>\n        <PaginationItem onClick={handleLastClick}>{`>>`}</PaginationItem>\n      </PaginationPresenter>\n    </PaginationContainer>\n  );\n};\n\nexport default Pagination;\n"]},"metadata":{},"sourceType":"module"}