{"ast":null,"code":"import axios from \"axios\";\n\nconst updateOptions = () => {\n  if (true) return {};\n  if (!window.localStorage.user) return {};\n  if (Object.keys(window.localStorage.user).length === 0) return {};\n  const user = JSON.parse(window.localStorage.user);\n\n  if (!!user.token) {\n    return {\n      headers: {\n        Authorization: `Token ${user.token}`\n      }\n    };\n  }\n};\n\nexport default async function (url) {\n  const {\n    data\n  } = await axios.get(url, updateOptions());\n  return data;\n}","map":{"version":3,"sources":["/frontend/lib/utils/fetcher.ts"],"names":["axios","updateOptions","window","localStorage","user","Object","keys","length","JSON","parse","token","headers","Authorization","url","data","get"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,aAAa,GAAG,MAAM;AAC1B,YAAmC,OAAO,EAAP;AAEnC,MAAI,CAACC,MAAM,CAACC,YAAP,CAAoBC,IAAzB,EAA+B,OAAO,EAAP;AAE/B,MAAIC,MAAM,CAACC,IAAP,CAAYJ,MAAM,CAACC,YAAP,CAAoBC,IAAhC,EAAsCG,MAAtC,KAAiD,CAArD,EAAwD,OAAO,EAAP;AAExD,QAAMH,IAAI,GAAGI,IAAI,CAACC,KAAL,CAAWP,MAAM,CAACC,YAAP,CAAoBC,IAA/B,CAAb;;AAEA,MAAI,CAAC,CAACA,IAAI,CAACM,KAAX,EAAkB;AAChB,WAAO;AACLC,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,SAAQR,IAAI,CAACM,KAAM;AAD5B;AADJ,KAAP;AAKD;AACF,CAhBD;;AAiBA,eAAe,gBAAgBG,GAAhB,EAAqB;AAClC,QAAM;AAAEC,IAAAA;AAAF,MAAW,MAAMd,KAAK,CAACe,GAAN,CAAUF,GAAV,EAAeZ,aAAa,EAA5B,CAAvB;AACA,SAAOa,IAAP;AACD","sourcesContent":["import axios from \"axios\";\n\nconst updateOptions = () => {\n  if (typeof window === \"undefined\") return {};\n\n  if (!window.localStorage.user) return {};\n\n  if (Object.keys(window.localStorage.user).length === 0) return {};\n\n  const user = JSON.parse(window.localStorage.user);\n\n  if (!!user.token) {\n    return {\n      headers: {\n        Authorization: `Token ${user.token}`,\n      },\n    };\n  }\n};\nexport default async function (url) {\n  const { data } = await axios.get(url, updateOptions());\n  return data;\n}\n"]},"metadata":{},"sourceType":"module"}