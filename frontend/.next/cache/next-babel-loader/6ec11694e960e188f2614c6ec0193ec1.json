{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _templateObject,\n    _templateObject2,\n    _templateObject3,\n    _templateObject4,\n    _templateObject5,\n    _templateObject6,\n    _templateObject7,\n    _templateObject8,\n    _templateObject9,\n    _templateObject10,\n    _templateObject11,\n    _templateObject12,\n    _templateObject13,\n    _this = this,\n    _jsxFileName = \"/frontend/pages/article/[pid].tsx\";\n\nvar __jsx = React.createElement;\nimport styled from \"@emotion/styled\";\nimport marked from \"marked\";\nimport React from \"react\";\nimport ArticleMeta from \"components/article/ArticleMeta\";\nimport CommentList from \"components/comment/CommentList\";\nimport LoadingSpinner from \"components/common/LoadingSpinner\";\nvar ArticlePageContainer = styled(\"div\")(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\"])));\n_c = ArticlePageContainer;\nvar ArticleInfoContainer = styled(\"div\")(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  color: #fff;\\n  background: #333;\\n  margin-bottom: 2rem;\\n  padding: 2rem 0;\\n\"])));\n_c2 = ArticleInfoContainer;\nvar ArticleInfoPresenter = styled(\"div\")(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n  margin: 0 auto;\\n  padding: 0 15px;\\n\\n  @media (min-width: 544px) {\\n    max-width: 576px;\\n  }\\n\\n  @media (min-width: 768px) {\\n    max-width: 720px;\\n  }\\n\\n  @media (min-width: 992px) {\\n    max-width: 940px;\\n  }\\n\\n  @media (min-width: 1200px) {\\n    max-width: 1140px;\\n  }\\n\"])));\n_c3 = ArticleInfoPresenter;\nvar ArticleTitle = styled(\"h1\")(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n  margin: 0;\\n  font-size: 2.8rem;\\n  font-weight: 600;\\n  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);\\n  line-height: 1.1;\\n\"])));\n_c4 = ArticleTitle;\nvar ArticleContentContainer = styled(\"div\")(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n  margin: 1.5rem auto 0;\\n  padding: 0 15px;\\n\\n  @media (min-width: 544px) {\\n    max-width: 576px;\\n  }\\n\\n  @media (min-width: 768px) {\\n    max-width: 720px;\\n  }\\n\\n  @media (min-width: 992px) {\\n    max-width: 940px;\\n  }\\n\\n  @media (min-width: 1200px) {\\n    max-width: 1140px;\\n  }\\n\"])));\n_c5 = ArticleContentContainer;\nvar ArticleContentPresenter = styled(\"div\")(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"\\n  position: relative;\\n  display: flex;\\n  flex-wrap: wrap;\\n  flex: 0 0 100%;\\n  max-width: 100%;\\n  min-height: 1px;\\n  margin: 0 -15px;\\n  padding: 0 15px;\\n\"])));\n_c6 = ArticleContentPresenter;\nvar ArticleContent = styled(\"div\")(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"\\n  width: 100%;\\n\"])));\n_c7 = ArticleContent;\nvar ArticleTagList = styled(\"ul\")(_templateObject8 || (_templateObject8 = _taggedTemplateLiteral([\"\\n  display: inline-block;\\n  list-style: none !important;\\n  padding-left: 0 !important;\\n  margin: 0 0 1rem;\\n\"])));\n_c8 = ArticleTagList;\nvar ArticleTagItem = styled(\"li\")(_templateObject9 || (_templateObject9 = _taggedTemplateLiteral([\"\\n  display: inline-block !important;\\n  border: 1px solid #ddd;\\n  color: #aaa !important;\\n  background: 0 0 !important;\\n  font-size: 0.8rem;\\n  padding-top: 0.1rem;\\n  padding-bottom: 0.1rem;\\n  white-space: nowrap;\\n  margin-right: 3px;\\n  margin-bottom: 0.2rem;\\n  padding-right: 0.6em;\\n  padding-left: 0.6em;\\n  border-radius: 10rem;\\n\"])));\n_c9 = ArticleTagItem;\nvar Divider = styled(\"hr\")(_templateObject10 || (_templateObject10 = _taggedTemplateLiteral([\"\\n  box-sizing: content-box;\\n  height: 0;\\n  margin-top: 1rem;\\n  margin-bottom: 1rem;\\n  border: 0;\\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\\n\"])));\n_c10 = Divider;\nvar ArticleActions = styled(\"div\")(_templateObject11 || (_templateObject11 = _taggedTemplateLiteral([\"\\n  text-align: center;\\n  margin: 1.5rem 0 3rem;\\n\"])));\n_c11 = ArticleActions;\nvar CommentListContainer = styled(\"div\")(_templateObject12 || (_templateObject12 = _taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-wrap: wrap;\\n  margin: 0 -15px;\\n\"])));\n_c12 = CommentListContainer;\nvar CommentListPresenter = styled(\"div\")(_templateObject13 || (_templateObject13 = _taggedTemplateLiteral([\"\\n  position: relative;\\n  flex: 0 0 100%;\\n  max-width: 100%;\\n  min-height: 1px;\\n  padding: 0 15px;\\n\\n  @media (min-width: 768px) {\\n    position: relative;\\n    flex: 0 0 66.66667%;\\n    max-width: 66.66667%;\\n    margin-left: 16.66667%;\\n  }\\n\"])));\n_c13 = CommentListPresenter;\n\nvar ArticlePage = function ArticlePage(_ref) {\n  var _article$tagList;\n\n  var article = _ref.article,\n      pid = _ref.pid;\n  if (!article) return __jsx(LoadingSpinner, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 24\n    }\n  });\n  var markup = {\n    __html: marked(article.body, {\n      sanitize: true\n    })\n  };\n  return __jsx(ArticlePageContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 5\n    }\n  }, __jsx(ArticleInfoContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }\n  }, __jsx(ArticleInfoPresenter, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }\n  }, __jsx(ArticleTitle, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }, article.title), __jsx(ArticleMeta, {\n    article: article,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 11\n    }\n  }))), __jsx(ArticleContentContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }\n  }, __jsx(ArticleContentPresenter, {\n    className: \"article-content\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }\n  }, __jsx(ArticleContent, {\n    dangerouslySetInnerHTML: markup,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 11\n    }\n  }), __jsx(ArticleTagList, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 11\n    }\n  }, (_article$tagList = article.tagList) === null || _article$tagList === void 0 ? void 0 : _article$tagList.map(function (tag) {\n    return __jsx(ArticleTagItem, {\n      key: tag,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 15\n      }\n    }, tag);\n  }))), __jsx(Divider, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }\n  }), __jsx(ArticleActions, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }\n  }), __jsx(CommentListContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }\n  }, __jsx(CommentListPresenter, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 11\n    }\n  }, __jsx(CommentList, {\n    pid: pid,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 13\n    }\n  })))));\n};\n\n_c14 = ArticlePage;\nexport var __N_SSG = true;\nexport default ArticlePage;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14;\n\n$RefreshReg$(_c, \"ArticlePageContainer\");\n$RefreshReg$(_c2, \"ArticleInfoContainer\");\n$RefreshReg$(_c3, \"ArticleInfoPresenter\");\n$RefreshReg$(_c4, \"ArticleTitle\");\n$RefreshReg$(_c5, \"ArticleContentContainer\");\n$RefreshReg$(_c6, \"ArticleContentPresenter\");\n$RefreshReg$(_c7, \"ArticleContent\");\n$RefreshReg$(_c8, \"ArticleTagList\");\n$RefreshReg$(_c9, \"ArticleTagItem\");\n$RefreshReg$(_c10, \"Divider\");\n$RefreshReg$(_c11, \"ArticleActions\");\n$RefreshReg$(_c12, \"CommentListContainer\");\n$RefreshReg$(_c13, \"CommentListPresenter\");\n$RefreshReg$(_c14, \"ArticlePage\");","map":{"version":3,"sources":["/frontend/pages/article/[pid].tsx"],"names":["styled","marked","React","ArticleMeta","CommentList","LoadingSpinner","ArticlePageContainer","ArticleInfoContainer","ArticleInfoPresenter","ArticleTitle","ArticleContentContainer","ArticleContentPresenter","ArticleContent","ArticleTagList","ArticleTagItem","Divider","ArticleActions","CommentListContainer","CommentListPresenter","ArticlePage","article","pid","markup","__html","body","sanitize","title","tagList","map","tag"],"mappings":"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","sourcesContent":["import styled from \"@emotion/styled\";\nimport marked from \"marked\";\nimport React from \"react\";\n\nimport ArticleMeta from \"components/article/ArticleMeta\";\nimport CommentList from \"components/comment/CommentList\";\nimport LoadingSpinner from \"components/common/LoadingSpinner\";\nimport ArticleAPI from \"lib/api/article\";\nimport { ArticleType } from \"lib/types/articleType\";\n\ninterface ArticlePageProps {\n  article: ArticleType;\n  pid: string;\n}\n\nconst ArticlePageContainer = styled(\"div\")``;\n\nconst ArticleInfoContainer = styled(\"div\")`\n  color: #fff;\n  background: #333;\n  margin-bottom: 2rem;\n  padding: 2rem 0;\n`;\n\nconst ArticleInfoPresenter = styled(\"div\")`\n  margin: 0 auto;\n  padding: 0 15px;\n\n  @media (min-width: 544px) {\n    max-width: 576px;\n  }\n\n  @media (min-width: 768px) {\n    max-width: 720px;\n  }\n\n  @media (min-width: 992px) {\n    max-width: 940px;\n  }\n\n  @media (min-width: 1200px) {\n    max-width: 1140px;\n  }\n`;\n\nconst ArticleTitle = styled(\"h1\")`\n  margin: 0;\n  font-size: 2.8rem;\n  font-weight: 600;\n  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);\n  line-height: 1.1;\n`;\n\nconst ArticleContentContainer = styled(\"div\")`\n  margin: 1.5rem auto 0;\n  padding: 0 15px;\n\n  @media (min-width: 544px) {\n    max-width: 576px;\n  }\n\n  @media (min-width: 768px) {\n    max-width: 720px;\n  }\n\n  @media (min-width: 992px) {\n    max-width: 940px;\n  }\n\n  @media (min-width: 1200px) {\n    max-width: 1140px;\n  }\n`;\n\nconst ArticleContentPresenter = styled(\"div\")`\n  position: relative;\n  display: flex;\n  flex-wrap: wrap;\n  flex: 0 0 100%;\n  max-width: 100%;\n  min-height: 1px;\n  margin: 0 -15px;\n  padding: 0 15px;\n`;\n\nconst ArticleContent = styled(\"div\")`\n  width: 100%;\n`;\n\nconst ArticleTagList = styled(\"ul\")`\n  display: inline-block;\n  list-style: none !important;\n  padding-left: 0 !important;\n  margin: 0 0 1rem;\n`;\n\nconst ArticleTagItem = styled(\"li\")`\n  display: inline-block !important;\n  border: 1px solid #ddd;\n  color: #aaa !important;\n  background: 0 0 !important;\n  font-size: 0.8rem;\n  padding-top: 0.1rem;\n  padding-bottom: 0.1rem;\n  white-space: nowrap;\n  margin-right: 3px;\n  margin-bottom: 0.2rem;\n  padding-right: 0.6em;\n  padding-left: 0.6em;\n  border-radius: 10rem;\n`;\n\nconst Divider = styled(\"hr\")`\n  box-sizing: content-box;\n  height: 0;\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n  border: 0;\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n`;\n\nconst ArticleActions = styled(\"div\")`\n  text-align: center;\n  margin: 1.5rem 0 3rem;\n`;\n\nconst CommentListContainer = styled(\"div\")`\n  display: flex;\n  flex-wrap: wrap;\n  margin: 0 -15px;\n`;\n\nconst CommentListPresenter = styled(\"div\")`\n  position: relative;\n  flex: 0 0 100%;\n  max-width: 100%;\n  min-height: 1px;\n  padding: 0 15px;\n\n  @media (min-width: 768px) {\n    position: relative;\n    flex: 0 0 66.66667%;\n    max-width: 66.66667%;\n    margin-left: 16.66667%;\n  }\n`;\n\nconst ArticlePage = ({ article, pid }: ArticlePageProps) => {\n  if (!article) return <LoadingSpinner />;\n\n  const markup = {\n    __html: marked(article.body, { sanitize: true }),\n  };\n\n  return (\n    <ArticlePageContainer>\n      <ArticleInfoContainer>\n        <ArticleInfoPresenter>\n          <ArticleTitle>{article.title}</ArticleTitle>\n          <ArticleMeta article={article} />\n        </ArticleInfoPresenter>\n      </ArticleInfoContainer>\n      <ArticleContentContainer>\n        <ArticleContentPresenter className=\"article-content\">\n          <ArticleContent dangerouslySetInnerHTML={markup} />\n          <ArticleTagList>\n            {article.tagList?.map((tag) => (\n              <ArticleTagItem key={tag}>{tag}</ArticleTagItem>\n            ))}\n          </ArticleTagList>\n        </ArticleContentPresenter>\n        <Divider />\n        <ArticleActions />\n        <CommentListContainer>\n          <CommentListPresenter>\n            <CommentList pid={pid} />\n          </CommentListPresenter>\n        </CommentListContainer>\n      </ArticleContentContainer>\n    </ArticlePageContainer>\n  );\n};\n\nexport async function getStaticPaths() {\n  return { paths: [], fallback: true };\n}\n\nexport async function getStaticProps({ params }) {\n  const { pid } = params;\n\n  try {\n    const { data } = await ArticleAPI.get(pid);\n    return {\n      props: {\n        article: data?.article,\n        pid,\n      },\n      revalidate: 1,\n    };\n  } catch (error) {\n    console.error(`Get Article id ${pid} error: `, error);\n    return {\n      props: {\n        article: {},\n        pid,\n      },\n      revalidate: 1,\n    };\n  }\n}\n\nexport default ArticlePage;\n"]},"metadata":{},"sourceType":"module"}