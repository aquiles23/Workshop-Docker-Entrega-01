{"ast":null,"code":"var _jsxFileName = \"/frontend/components/comment/DeleteButton.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport axios from \"axios\";\nimport { useRouter } from \"next/router\";\nimport useSWR, { trigger } from \"swr\";\nimport { SERVER_BASE_URL } from \"../../lib/utils/constant\";\nimport storage from \"../../lib/utils/storage\";\n\nconst DeleteButton = ({\n  commentId\n}) => {\n  const {\n    data: currentUser\n  } = useSWR(\"user\", storage);\n  const router = useRouter();\n  const {\n    query: {\n      pid\n    }\n  } = router;\n\n  const handleDelete = async commentId => {\n    await axios.delete(`${SERVER_BASE_URL}/articles/${pid}/comments/${commentId}`, {\n      headers: {\n        Authorization: `Token ${currentUser === null || currentUser === void 0 ? void 0 : currentUser.token}`\n      }\n    });\n    trigger(`${SERVER_BASE_URL}/articles/${pid}/comments`);\n  };\n\n  return __jsx(\"span\", {\n    className: \"mod-options\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, __jsx(\"i\", {\n    className: \"ion-trash-a\",\n    onClick: () => handleDelete(commentId),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default DeleteButton;","map":{"version":3,"sources":["/frontend/components/comment/DeleteButton.tsx"],"names":["axios","useRouter","useSWR","trigger","SERVER_BASE_URL","storage","DeleteButton","commentId","data","currentUser","router","query","pid","handleDelete","delete","headers","Authorization","token"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,MAAP,IAAiBC,OAAjB,QAAgC,KAAhC;AAEA,SAASC,eAAT,QAAgC,0BAAhC;AACA,OAAOC,OAAP,MAAoB,yBAApB;;AAEA,MAAMC,YAAY,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAmB;AACtC,QAAM;AAAEC,IAAAA,IAAI,EAAEC;AAAR,MAAwBP,MAAM,CAAC,MAAD,EAASG,OAAT,CAApC;AACA,QAAMK,MAAM,GAAGT,SAAS,EAAxB;AACA,QAAM;AACJU,IAAAA,KAAK,EAAE;AAAEC,MAAAA;AAAF;AADH,MAEFF,MAFJ;;AAIA,QAAMG,YAAY,GAAG,MAAON,SAAP,IAAqB;AACxC,UAAMP,KAAK,CAACc,MAAN,CACH,GAAEV,eAAgB,aAAYQ,GAAI,aAAYL,SAAU,EADrD,EAEJ;AACEQ,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,SAAQP,WAAT,aAASA,WAAT,uBAASA,WAAW,CAAEQ,KAAM;AADpC;AADX,KAFI,CAAN;AAQAd,IAAAA,OAAO,CAAE,GAAEC,eAAgB,aAAYQ,GAAI,WAApC,CAAP;AACD,GAVD;;AAYA,SACE;AAAM,IAAA,SAAS,EAAC,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,SAAS,EAAC,aAAb;AAA2B,IAAA,OAAO,EAAE,MAAMC,YAAY,CAACN,SAAD,CAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF;AAKD,CAxBD;;AA0BA,eAAeD,YAAf","sourcesContent":["import axios from \"axios\";\nimport { useRouter } from \"next/router\";\nimport useSWR, { trigger } from \"swr\";\n\nimport { SERVER_BASE_URL } from \"../../lib/utils/constant\";\nimport storage from \"../../lib/utils/storage\";\n\nconst DeleteButton = ({ commentId }) => {\n  const { data: currentUser } = useSWR(\"user\", storage);\n  const router = useRouter();\n  const {\n    query: { pid },\n  } = router;\n\n  const handleDelete = async (commentId) => {\n    await axios.delete(\n      `${SERVER_BASE_URL}/articles/${pid}/comments/${commentId}`,\n      {\n        headers: {\n          Authorization: `Token ${currentUser?.token}`,\n        },\n      }\n    );\n    trigger(`${SERVER_BASE_URL}/articles/${pid}/comments`);\n  };\n\n  return (\n    <span className=\"mod-options\">\n      <i className=\"ion-trash-a\" onClick={() => handleDelete(commentId)} />\n    </span>\n  );\n};\n\nexport default DeleteButton;\n"]},"metadata":{},"sourceType":"module"}