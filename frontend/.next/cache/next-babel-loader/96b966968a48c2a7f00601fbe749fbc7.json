{"ast":null,"code":"var _jsxFileName = \"/frontend/components/comment/Comment.tsx\";\nvar __jsx = React.createElement;\nimport styled from \"@emotion/styled\";\nimport React from \"react\";\nimport useSWR from \"swr\";\nimport CustomLink from \"components/common/CustomLink\";\nimport CustomImage from \"components/common/CustomImage\";\nimport Maybe from \"components/common/Maybe\";\nimport DeleteButton from \"components/comment/DeleteButton\";\nimport checkLogin from \"lib/utils/checkLogin\";\nimport storage from \"lib/utils/storage\";\nconst CommentContainer = styled(\"div\")`\n  position: relative;\n  display: block;\n  margin-bottom: 0.75rem;\n  background: #fff;\n  border: 1px solid #e5e5e5;\n  border-radius: 0.25rem;\n  box-shadow: none !important;\n`;\nconst CommentCardBlock = styled(\"div\")`\n  padding: 1.25rem;\n  &::after {\n    content: \"\";\n    display: table;\n    clear: both;\n  }\n`;\nconst CommentContent = styled(\"p\")`\n  margin-top: 0;\n  margin-bottom: 0;\n`;\nconst CommentFooter = styled(\"div\")`\n  font-size: 0.8rem;\n  font-weight: 300;\n  border-top: 1px solid #e5e5e5;\n  border-radius: 0 0 0.25rem 0.25rem;\n  padding: 0.75rem 1.25rem;\n  box-shadow: none !important;\n  background: #f5f5f5;\n\n  &::after {\n    content: \"\";\n    display: table;\n    clear: both;\n  }\n`;\nconst CommentAuthorLink = styled(CustomLink)`\n  display: inline-block;\n  vertical-align: middle;\n`;\nconst CommentAuthorImage = styled(CustomImage)`\n  display: inline-block;\n  vertical-align: middle;\n  height: 20px;\n  width: 20px;\n  border-radius: 30px;\n  border: 0;\n`;\nconst CommentDate = styled(\"span\")`\n  display: inline-block;\n  vertical-align: middle;\n  margin-left: 5px;\n  color: #bbb;\n`;\n\nconst Comment = ({\n  comment\n}) => {\n  var _comment$author;\n\n  const {\n    data: currentUser\n  } = useSWR(\"user\", storage);\n  const isLoggedIn = checkLogin(currentUser);\n  const canModify = isLoggedIn && (currentUser === null || currentUser === void 0 ? void 0 : currentUser.username) === (comment === null || comment === void 0 ? void 0 : (_comment$author = comment.author) === null || _comment$author === void 0 ? void 0 : _comment$author.username);\n  return __jsx(CommentContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }, __jsx(CommentCardBlock, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, __jsx(CommentContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, comment.body)), __jsx(CommentFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, __jsx(CommentAuthorLink, {\n    href: \"profile/[pid]\",\n    as: `/profile/${comment.author.username}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, __jsx(CommentAuthorImage, {\n    src: comment.author.image,\n    alt: \"Comment author's profile image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  })), \"\\xA0\", __jsx(CommentAuthorLink, {\n    href: \"profile/[pid]\",\n    as: `/profile/${comment.author.username}`,\n    className: \"comment-author\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, comment.author.username), __jsx(CommentDate, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, new Date(comment.createdAt).toDateString()), __jsx(Maybe, {\n    test: canModify,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, __jsx(DeleteButton, {\n    commentId: comment.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default Comment;","map":{"version":3,"sources":["/frontend/components/comment/Comment.tsx"],"names":["styled","React","useSWR","CustomLink","CustomImage","Maybe","DeleteButton","checkLogin","storage","CommentContainer","CommentCardBlock","CommentContent","CommentFooter","CommentAuthorLink","CommentAuthorImage","CommentDate","Comment","comment","data","currentUser","isLoggedIn","canModify","username","author","body","image","Date","createdAt","toDateString","id"],"mappings":"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","sourcesContent":["import styled from \"@emotion/styled\";\nimport React from \"react\";\nimport useSWR from \"swr\";\n\nimport CustomLink from \"components/common/CustomLink\";\nimport CustomImage from \"components/common/CustomImage\";\nimport Maybe from \"components/common/Maybe\";\nimport DeleteButton from \"components/comment/DeleteButton\";\nimport checkLogin from \"lib/utils/checkLogin\";\nimport storage from \"lib/utils/storage\";\n\nconst CommentContainer = styled(\"div\")`\n  position: relative;\n  display: block;\n  margin-bottom: 0.75rem;\n  background: #fff;\n  border: 1px solid #e5e5e5;\n  border-radius: 0.25rem;\n  box-shadow: none !important;\n`;\n\nconst CommentCardBlock = styled(\"div\")`\n  padding: 1.25rem;\n  &::after {\n    content: \"\";\n    display: table;\n    clear: both;\n  }\n`;\n\nconst CommentContent = styled(\"p\")`\n  margin-top: 0;\n  margin-bottom: 0;\n`;\n\nconst CommentFooter = styled(\"div\")`\n  font-size: 0.8rem;\n  font-weight: 300;\n  border-top: 1px solid #e5e5e5;\n  border-radius: 0 0 0.25rem 0.25rem;\n  padding: 0.75rem 1.25rem;\n  box-shadow: none !important;\n  background: #f5f5f5;\n\n  &::after {\n    content: \"\";\n    display: table;\n    clear: both;\n  }\n`;\n\nconst CommentAuthorLink = styled(CustomLink)`\n  display: inline-block;\n  vertical-align: middle;\n`;\n\nconst CommentAuthorImage = styled(CustomImage)`\n  display: inline-block;\n  vertical-align: middle;\n  height: 20px;\n  width: 20px;\n  border-radius: 30px;\n  border: 0;\n`;\n\nconst CommentDate = styled(\"span\")`\n  display: inline-block;\n  vertical-align: middle;\n  margin-left: 5px;\n  color: #bbb;\n`;\n\nconst Comment = ({ comment }) => {\n  const { data: currentUser } = useSWR(\"user\", storage);\n  const isLoggedIn = checkLogin(currentUser);\n  const canModify =\n    isLoggedIn && currentUser?.username === comment?.author?.username;\n\n  return (\n    <CommentContainer>\n      <CommentCardBlock>\n        <CommentContent>{comment.body}</CommentContent>\n      </CommentCardBlock>\n      <CommentFooter>\n        <CommentAuthorLink\n          href=\"profile/[pid]\"\n          as={`/profile/${comment.author.username}`}\n        >\n          <CommentAuthorImage\n            src={comment.author.image}\n            alt=\"Comment author's profile image\"\n          />\n        </CommentAuthorLink>\n        &nbsp;\n        <CommentAuthorLink\n          href=\"profile/[pid]\"\n          as={`/profile/${comment.author.username}`}\n          className=\"comment-author\"\n        >\n          {comment.author.username}\n        </CommentAuthorLink>\n        <CommentDate>{new Date(comment.createdAt).toDateString()}</CommentDate>\n        <Maybe test={canModify}>\n          <DeleteButton commentId={comment.id} />\n        </Maybe>\n      </CommentFooter>\n    </CommentContainer>\n  );\n};\n\nexport default Comment;\n"]},"metadata":{},"sourceType":"module"}