{"ast":null,"code":"var _jsxFileName = \"/frontend/components/common/Pagination.tsx\";\nvar __jsx = React.createElement;\nimport styled from \"@emotion/styled\";\nimport React from \"react\";\nimport { trigger } from \"swr\";\nimport Maybe from \"./Maybe\";\nimport { getRange, getPageInfo } from \"lib/utils/calculatePagination\";\nimport { usePageDispatch, usePageState } from \"lib/context/PageContext\";\nconst PaginationContainer = styled(\"nav\")``;\nconst PaginationPresenter = styled(\"ul\")`\n  display: inline-block;\n  padding-left: 0;\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n  border-radius: 0.25rem;\n`;\nconst PaginationItem = styled(\"li\")`\n  position: relative;\n  display: inline;\n  padding: 0.5rem 0.75rem;\n  margin-left: 0;\n\n  background-color: #fff;\n  border: 1px solid #ddd;\n  cursor: pointer;\n\n  &:first-child {\n    border-bottom-left-radius: 0.25rem;\n    border-top-left-radius: 0.25rem;\n  }\n\n  &:last-child {\n    border-bottom-right-radius: 0.25rem;\n    border-top-right-radius: 0.25rem;\n  }\n\n  &:hover {\n    color: #3d8b3d;\n    background-color: #eceeef;\n    border-color: #ddd;\n  }\n\n  &.is-active {\n    z-index: 2;\n    color: #fff;\n    cursor: default;\n    background-color: #5cb85c;\n    border-color: #5cb85c;\n  }\n`;\n\nconst Pagination = ({\n  total,\n  limit,\n  pageCount,\n  currentPage,\n  lastIndex,\n  fetchURL\n}) => {\n  const page = usePageState();\n  const setPage = usePageDispatch();\n  const {\n    firstPage,\n    lastPage,\n    hasPreviousPage,\n    hasNextPage\n  } = getPageInfo({\n    limit,\n    pageCount,\n    total,\n    page: currentPage\n  });\n  const pages = total > 0 ? getRange(firstPage, lastPage) : [];\n  const handleClick = React.useCallback((e, index) => {\n    e.preventDefault();\n    setPage(index);\n    trigger(fetchURL);\n  }, []);\n  const handleFirstClick = React.useCallback(e => {\n    e.preventDefault();\n    setPage(0);\n    trigger(fetchURL);\n  }, []);\n  const handlePrevClick = React.useCallback(e => {\n    e.preventDefault();\n    setPage(page - 1);\n    trigger(fetchURL);\n  }, []);\n  const handleNextClick = React.useCallback(e => {\n    e.preventDefault();\n    setPage(page + 1);\n    trigger(fetchURL);\n  }, []);\n  const handleLastClick = React.useCallback(e => {\n    e.preventDefault();\n    setPage(lastIndex);\n    trigger(fetchURL);\n  }, []);\n  return __jsx(PaginationContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 5\n    }\n  }, __jsx(PaginationPresenter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }\n  }, __jsx(PaginationItem, {\n    onClick: handleFirstClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  }, `<<`), __jsx(Maybe, {\n    test: hasPreviousPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }\n  }, __jsx(PaginationItem, {\n    onClick: handlePrevClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }\n  }, `<`)), pages.map(page => {\n    const isCurrent = !currentPage ? page === 0 : page === currentPage;\n    return __jsx(PaginationItem, {\n      key: page.toString(),\n      className: isCurrent && \"is-active\",\n      onClick: e => handleClick(e, page),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }\n    }, page + 1);\n  }), __jsx(Maybe, {\n    test: hasNextPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 9\n    }\n  }, __jsx(PaginationItem, {\n    onClick: handleNextClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 11\n    }\n  }, `>`)), __jsx(PaginationItem, {\n    onClick: handleLastClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }\n  }, `>>`)));\n};\n\nexport default Pagination;","map":{"version":3,"sources":["/frontend/components/common/Pagination.tsx"],"names":["styled","React","trigger","Maybe","getRange","getPageInfo","usePageDispatch","usePageState","PaginationContainer","PaginationPresenter","PaginationItem","Pagination","total","limit","pageCount","currentPage","lastIndex","fetchURL","page","setPage","firstPage","lastPage","hasPreviousPage","hasNextPage","pages","handleClick","useCallback","e","index","preventDefault","handleFirstClick","handlePrevClick","handleNextClick","handleLastClick","map","isCurrent","toString"],"mappings":"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","sourcesContent":["import styled from \"@emotion/styled\";\nimport React from \"react\";\nimport { trigger } from \"swr\";\n\nimport Maybe from \"./Maybe\";\nimport { getRange, getPageInfo } from \"lib/utils/calculatePagination\";\nimport { usePageDispatch, usePageState } from \"lib/context/PageContext\";\n\ninterface PaginationProps {\n  total: number;\n  limit: number;\n  pageCount: number;\n  currentPage: number;\n  lastIndex: number;\n  fetchURL: string;\n}\n\nconst PaginationContainer = styled(\"nav\")``;\n\nconst PaginationPresenter = styled(\"ul\")`\n  display: inline-block;\n  padding-left: 0;\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n  border-radius: 0.25rem;\n`;\n\nconst PaginationItem = styled(\"li\")`\n  position: relative;\n  display: inline;\n  padding: 0.5rem 0.75rem;\n  margin-left: 0;\n\n  background-color: #fff;\n  border: 1px solid #ddd;\n  cursor: pointer;\n\n  &:first-child {\n    border-bottom-left-radius: 0.25rem;\n    border-top-left-radius: 0.25rem;\n  }\n\n  &:last-child {\n    border-bottom-right-radius: 0.25rem;\n    border-top-right-radius: 0.25rem;\n  }\n\n  &:hover {\n    color: #3d8b3d;\n    background-color: #eceeef;\n    border-color: #ddd;\n  }\n\n  &.is-active {\n    z-index: 2;\n    color: #fff;\n    cursor: default;\n    background-color: #5cb85c;\n    border-color: #5cb85c;\n  }\n`;\n\nconst Pagination = ({\n  total,\n  limit,\n  pageCount,\n  currentPage,\n  lastIndex,\n  fetchURL,\n}: PaginationProps) => {\n  const page = usePageState();\n  const setPage = usePageDispatch();\n\n  const { firstPage, lastPage, hasPreviousPage, hasNextPage } = getPageInfo({\n    limit,\n    pageCount,\n    total,\n    page: currentPage,\n  });\n  const pages = total > 0 ? getRange(firstPage, lastPage) : [];\n\n  const handleClick = React.useCallback(\n    (e: React.MouseEvent<HTMLLIElement, MouseEvent>, index: number) => {\n      e.preventDefault();\n      setPage(index);\n      trigger(fetchURL);\n    },\n    []\n  );\n\n  const handleFirstClick = React.useCallback(\n    (e: React.MouseEvent<HTMLLIElement, MouseEvent>) => {\n      e.preventDefault();\n      setPage(0);\n      trigger(fetchURL);\n    },\n    []\n  );\n\n  const handlePrevClick = React.useCallback(\n    (e: React.MouseEvent<HTMLLIElement, MouseEvent>) => {\n      e.preventDefault();\n      setPage(page - 1);\n      trigger(fetchURL);\n    },\n    []\n  );\n\n  const handleNextClick = React.useCallback(\n    (e: React.MouseEvent<HTMLLIElement, MouseEvent>) => {\n      e.preventDefault();\n      setPage(page + 1);\n      trigger(fetchURL);\n    },\n    []\n  );\n\n  const handleLastClick = React.useCallback(\n    (e: React.MouseEvent<HTMLLIElement, MouseEvent>) => {\n      e.preventDefault();\n      setPage(lastIndex);\n      trigger(fetchURL);\n    },\n    []\n  );\n\n  return (\n    <PaginationContainer>\n      <PaginationPresenter>\n        <PaginationItem onClick={handleFirstClick}>{`<<`}</PaginationItem>\n        <Maybe test={hasPreviousPage}>\n          <PaginationItem onClick={handlePrevClick}>{`<`}</PaginationItem>\n        </Maybe>\n        {pages.map((page) => {\n          const isCurrent = !currentPage ? page === 0 : page === currentPage;\n          return (\n            <PaginationItem\n              key={page.toString()}\n              className={isCurrent && \"is-active\"}\n              onClick={(e) => handleClick(e, page)}\n            >\n              {page + 1}\n            </PaginationItem>\n          );\n        })}\n        <Maybe test={hasNextPage}>\n          <PaginationItem onClick={handleNextClick}>{`>`}</PaginationItem>\n        </Maybe>\n        <PaginationItem onClick={handleLastClick}>{`>>`}</PaginationItem>\n      </PaginationPresenter>\n    </PaginationContainer>\n  );\n};\n\nexport default Pagination;\n"]},"metadata":{},"sourceType":"module"}